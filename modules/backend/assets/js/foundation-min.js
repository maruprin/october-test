(()=>{"use strict";var __webpack_modules__={5311:module=>{module.exports=jQuery}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}(()=>{function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Controller=function(){function Controller(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Controller),this.started=!1}var Constructor,protoProps,staticProps;return Constructor=Controller,staticProps=[{key:"disposeControls",value:function(container){container===document&&(container=document.documentElement),container.querySelectorAll("[data-disposable]").forEach((function(control){oc.Events.dispatch("october:dispose",{target:control})})),container.hasAttribute("data-disposable")&&oc.Events.dispatch("october:dispose",{target:container})}}],(protoProps=[{key:"start",value:function(){this.started||(this.started=!0),this.bindAutoDisposal()}},{key:"stop",value:function(){this.started&&(this.started=!1)}},{key:"bindAutoDisposal",value:function(){addEventListener("page:before-render",(function(ev){Controller.disposeControls(ev.target)})),addEventListener("ajax:before-replace",(function(ev){Controller.disposeControls(ev.target)}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Controller}();function normalizeData(value){if("true"===value)return!0;if("false"===value)return!1;if(value===Number(value).toString())return Number(value);if(""===value||"null"===value)return null;if("string"!=typeof value)return value;try{return JSON.parse(decodeURIComponent(value))}catch(_unused){return value}}function normalizeDataKey(key){return key.replace(/[A-Z]/g,(function(chr){return"-".concat(chr.toLowerCase())}))}const util_config={setDataAttribute:function(element,key,value){element.setAttribute("data-".concat(normalizeDataKey(key)),value)},removeDataAttribute:function(element,key){element.removeAttribute("data-".concat(normalizeDataKey(key)))},getDataAttributes:function(element){if(!element)return{};for(var attributes={},_i=0,_dataKeys=Object.keys(element.dataset);_i<_dataKeys.length;_i++){var key=_dataKeys[_i];attributes[key]=normalizeData(element.dataset[key])}return attributes},getDataAttribute:function(element,key){return normalizeData(element.getAttribute("data-".concat(normalizeDataKey(key))))}};var elementMap=new Map;const data_set=function(element,key,instance){elementMap.has(element)||elementMap.set(element,new Map);var instanceMap=elementMap.get(element);instanceMap.has(key)||0===instanceMap.size?instanceMap.set(key,instance):console.error("[Foundation] Cannot bind more than one instance per element. Bound instance: ".concat(Array.from(instanceMap.keys())[0],"."))},data_get=function(element,key){return elementMap.has(element)&&elementMap.get(element).get(key)||null},data_remove=function(element,key){if(elementMap.has(element)){var instanceMap=elementMap.get(element);instanceMap.delete(key),0===instanceMap.size&&elementMap.delete(element)}};function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(_e2){didErr=!0,err=_e2},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function base_class_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BaseClass=function(){function BaseClass(element,config){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BaseClass),(element=getElement(element))&&(this.element=element,this.config=this.getConfig(config),this.proxiedMethods={},data_set(this.element,this.constructor.DATANAME,this))}var Constructor,protoProps,staticProps;return Constructor=BaseClass,protoProps=[{key:"dispose",value:function(){for(var key in data_remove(this.element,this.constructor.DATANAME),this.forget("october:dispose",this.proxy(this.dispose)),this.proxiedMethods)this.proxiedMethods[key]=null;var _step,_iterator=_createForOfIteratorHelper(Object.getOwnPropertyNames(this));try{for(_iterator.s();!(_step=_iterator.n()).done;)this[_step.value]=null}catch(err){_iterator.e(err)}finally{_iterator.f()}}},{key:"listen",value:function(eventName,handler,callback){return oc.Events.on(this.element,eventName,handler,callback)}},{key:"listenOnce",value:function(eventName,handler,callback){return oc.Events.one(this.element,eventName,handler,callback)}},{key:"forget",value:function(eventName,handler,callback){return oc.Events.off(this.element,eventName,handler,callback)}},{key:"dispatch",value:function(eventName){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oc.Events.dispatch(eventName,_objectSpread({target:this.element},args))}},{key:"markDisposable",value:function(){this.element.setAttribute("data-disposable",""),this.listen("october:dispose",this.proxy(this.dispose))}},{key:"onDispose",value:function(callback){this.listen("october:dispose",this.proxy(callback))}},{key:"proxy",value:function(method){return void 0===method.ocProxyId&&(BaseClass.proxyCounter++,method.ocProxyId=BaseClass.proxyCounter),void 0!==this.proxiedMethods[method.ocProxyId]||(this.proxiedMethods[method.ocProxyId]=method.bind(this)),this.proxiedMethods[method.ocProxyId]}},{key:"getConfig",value:function(config){return _objectSpread(_objectSpread(_objectSpread({},this.constructor.DEFAULTS),util_config.getDataAttributes(this.element)),"object"===_typeof(config)?config:{})}}],staticProps=[{key:"getInstance",value:function(element){return data_get(getElement(element),this.DATANAME)}},{key:"getOrCreateInstance",value:function(element){var config=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(element)||new this(element,"object"===_typeof(config)?config:null)}}],protoProps&&base_class_defineProperties(Constructor.prototype,protoProps),staticProps&&base_class_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),BaseClass}();function getElement(element){return"string"==typeof object&&object.length>0?document.querySelector(object):element}_defineProperty(BaseClass,"proxyCounter",0);var $=__webpack_require__(5311);function select_typeof(obj){return select_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},select_typeof(obj)}function select_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(arguments.length<3?target:receiver):desc.value}},_get.apply(this,arguments)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"===select_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(self)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var Select=function(_BaseClass){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(Select,_BaseClass);var Constructor,protoProps,staticProps,_super=_createSuper(Select);function Select(element,config){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Select),(_this=_super.call(this,element,config)).$el=$(element),_this.formatSelectOption=function(state){var text=$("<span>").text(state.text).html();if(void 0===state.id)return text;var $option=$(state.element),statusColor=state.status?state.status:$option.data("status"),iconClass=state.icon?state.icon:$option.data("icon"),imageSrc=state.image?state.image:$option.data("image");return statusColor?'<span class="select-status status-indicator" style="background:'+statusColor+'"></span> '+text:iconClass?'<i class="select-icon '+iconClass+'"></i> '+text:imageSrc?'<img class="select-image" src="'+imageSrc+'" alt="" /> '+text:text},_this.disableSelect=function(event,status){null!=$(this).data("select2")&&$(this).select2("enable",!status)};var self=_assertThisInitialized(_this);return _this.triggerNativeChange=function(event){oc.Events.dispatch("change",{target:event.currentTarget}),$(event.currentTarget).one("change",self.triggerNativeChange)},_this.destroyPlaceholder(),_this.$el.one("change",_this.proxy(_this.triggerNativeChange)),_this.$el.on("disable",_this.proxy(_this.disableSelect)),_this.bindCustomSelect(),_this.bindCustomSelectWorkaround(),_this.markDisposable(),_this}return Constructor=Select,protoProps=[{key:"bindCustomSelectWorkaround",value:function(){this.$el.data("select2").$container.addClass(this.options.containerCssClass),this.select2OpenWorkaround=function(){setTimeout((function(){document.querySelector(".select2-container--open .select2-search__field").focus()}),100)},this.$el.on("select2:open",this.select2OpenWorkaround)}},{key:"dispose",value:function(){this.clonePlaceholder(),this.$el.off("change",this.proxy(this.triggerNativeChange)),this.$el.off("disable",this.proxy(this.disableSelect)),this.$el.off("select2:open",this.select2OpenWorkaround),this.$el.select2("destroy"),_get(_getPrototypeOf(Select.prototype),"dispose",this).call(this)}},{key:"destroyPlaceholder",value:function(){var artefact=this.element&&this.element.nextElementSibling;artefact&&artefact.matches(".select2")&&artefact.remove()}},{key:"clonePlaceholder",value:function(){var artefact=this.element&&this.element.nextElementSibling;if(artefact&&artefact.matches(".select2")){var newNode=artefact.cloneNode(!0);artefact.parentNode.insertBefore(newNode,artefact.nextSibling),newNode.innerHtml=artefact.innerHtml,this.element.style.display="none"}}},{key:"bindCustomSelect",value:function(){var options=this.options=this.buildSelectOptions();this.element.dataset.handler&&(options=this.buildAjaxHandlerOption(options,this.element.dataset.handler)),this.element.dataset.tokenSeparators&&(options=this.buildTokenSeparatorOptions(options,this.element.dataset.tokenSeparators)),this.$el.select2(options)}},{key:"buildTokenSeparatorOptions",value:function(selectOptions,separators){return selectOptions.tags=!0,selectOptions.tokenSeparators=separators.split("|"),this.element.classList.contains("select-no-dropdown")&&(selectOptions.selectOnClose=!0,selectOptions.closeOnSelect=!1,selectOptions.minimumInputLength=1,this.$el.on("select2:closing",(function(){var highlightedEls=$(".select2-dropdown.select-no-dropdown:first .select2-results__option--highlighted");highlightedEls.length>0&&(highlightedEls.removeClass("select2-results__option--highlighted"),$(".select2-dropdown.select-no-dropdown:first .select2-results__option:first").addClass("select2-results__option--highlighted"))}))),selectOptions}},{key:"buildAjaxHandlerOption",value:function(selectOptions,handler){var self=this;return selectOptions.ajax={transport:function(params,success,failure){var request=oc.request(self.$el.get(0),handler,{data:params.data});return request.done(success),request.fail(failure),request},processResults:function(data,params){var results=data.result||data.results,options=[];if(delete data.result,results[0]&&"object"===select_typeof(results[0]))options=results;else for(var i in results)results.hasOwnProperty(i)&&options.push({id:i,text:results[i]});return data.results=options,data},dataType:"json"},selectOptions}},{key:"buildSelectOptions",value:function(){var selectOptions={templateResult:this.formatSelectOption,templateSelection:this.formatSelectOption,escapeMarkup:function(m){return m},width:"style",containerCssClass:"",dropdownCssClass:"",selectionCssClass:""};this.element.classList.contains("select-no-search")&&(selectOptions.minimumResultsForSearch=1/0),this.element.classList.contains("select-no-dropdown")&&(selectOptions.dropdownCssClass+=" select-no-dropdown",selectOptions.selectionCssClass+=" select-no-dropdown"),this.element.classList.contains("select-hide-selected")&&(selectOptions.dropdownCssClass+=" select-hide-selected"),this.element.classList.contains("select-dropdown-auto-width")&&(selectOptions.dropdownAutoWidth=!0,selectOptions.dropdownCssClass+=" select-dropdown-auto-width"),this.element.classList.contains("form-control-sm")&&(selectOptions.containerCssClass+=" form-control-sm"),this.element.classList.contains("form-control-lg")&&(selectOptions.containerCssClass+=" form-control-lg");var language=this.element.dataset.language;if(!language){var meta=document.querySelector('meta[name="backend-locale"]');meta&&(language=meta.getAttribute("content"))}language&&(selectOptions.language=language);var placeholder=this.element.dataset.placeholder;return placeholder&&(selectOptions.placeholder=placeholder,selectOptions.allowClear=!0),selectOptions}}],staticProps=[{key:"DATANAME",get:function(){return"ocSelect"}},{key:"DEFAULTS",get:function(){return{animation:!0,autohide:!0,delay:5e3}}}],protoProps&&select_defineProperties(Constructor.prototype,protoProps),staticProps&&select_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Select}(BaseClass);addEventListener("render",(function(){document.querySelectorAll("select.custom-select").forEach((function(el){Select.getOrCreateInstance(el)}))}));var instance=new Controller;window.oc&&(window.oc.Foundation=instance,window.oc.FoundationBase=BaseClass),instance.start()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21vZHVsZXMvYmFja2VuZC9hc3NldHMvanMvZm91bmRhdGlvbi1taW4uanMiLCJtYXBwaW5ncyI6IjBEQUFBQSxPQUFPQyxRQUFVQyxNLEdDQ2JDLHlCQUEyQixDQUFDLEVBR2hDLFNBQVNDLG9CQUFvQkMsVUFFNUIsSUFBSUMsYUFBZUgseUJBQXlCRSxVQUM1QyxRQUFxQkUsSUFBakJELGFBQ0gsT0FBT0EsYUFBYUwsUUFHckIsSUFBSUQsT0FBU0cseUJBQXlCRSxVQUFZLENBR2pESixRQUFTLENBQUMsR0FPWCxPQUhBTyxvQkFBb0JILFVBQVVMLE9BQVFBLE9BQU9DLFFBQVNHLHFCQUcvQ0osT0FBT0MsT0FDZixDLDBSQ3RCTyxJQUFNUSxXQUFiLFdBRUksdUIsOEhBQWMsa0JBQ1ZDLEtBQUtDLFNBQVUsQ0FDbEIsQyx1Q0FKTCxPLFlBQUEsVyxZQUFBLDhCQWtDSSxTQUF1QkMsV0FDZkEsWUFBY0MsV0FDZEQsVUFBWUMsU0FBU0MsaUJBR3pCRixVQUFVRyxpQkFBaUIscUJBQXFCQyxTQUFRLFNBQVNDLFNBQzdEQyxHQUFHQyxPQUFPQyxTQUFTLGtCQUFtQixDQUFFQyxPQUFRSixTQUNuRCxJQUVHTCxVQUFVVSxhQUFhLG9CQUN2QkosR0FBR0MsT0FBT0MsU0FBUyxrQkFBbUIsQ0FBRUMsT0FBUVQsV0FFdkQsSyxXQTlDTCxvQkFNSSxXQUNTRixLQUFLQyxVQUNORCxLQUFLQyxTQUFVLEdBR25CRCxLQUFLYSxrQkFDUixHQVpMLGtCQWNJLFdBQ1FiLEtBQUtDLFVBQ0xELEtBQUtDLFNBQVUsRUFFdEIsR0FsQkwsOEJBc0JJLFdBQ0lhLGlCQUFpQixzQkFBc0IsU0FBU0MsSUFDNUNoQixXQUFXaUIsZ0JBQWdCRCxHQUFHSixPQUNqQyxJQUVERyxpQkFBaUIsdUJBQXVCLFNBQVNDLElBQzdDaEIsV0FBV2lCLGdCQUFnQkQsR0FBR0osT0FDakMsR0FDSixNLHlLQTlCTCxjQ0FBLFNBQVNNLGNBQWNDLE9BQ25CLEdBQWMsU0FBVkEsTUFDQSxPQUFPLEVBR1gsR0FB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LFlBTXZDLE9BTElBLGNBQ0F0QyxjQUFjc0MsWUFBY0EsWUFDNUJ0QyxjQUFjdUMsWUFBYSxHQUd4QnZDLGFBQ1YsSSxpQ0FFRCxXQUNJLE1BQU8sVUFDVixHLG9CQUVELFdBQ0ksTUFBTyxDQUNId0MsV0FBVyxFQUNYQyxVQUFVLEVBQ1ZDLE1BQU8sSUFFZCxJLHdNQWpRQzVGLENBQWU5QixXQW9RckJ2QyxpQkFBaUIsVUFBVSxXQUN2QlgsU0FBU0UsaUJBQWlCLHdCQUF3QkMsU0FBUSxTQUFTMEssSUFDL0Q3RixPQUFPOEYsb0JBQW9CRCxHQUM5QixHQUNKLElDdFFELElBQU1ySSxTQUFXLElBQUk1QyxXQUVqQm1MLE9BQU8xSyxLQUNQMEssT0FBTzFLLEdBQUcySyxXQUFheEksU0FDdkJ1SSxPQUFPMUssR0FBRzRLLGVBQWlCL0gsV0FHL0JWLFNBQVMwSSxPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy9leHRlcm5hbCB2YXIgXCJqUXVlcnlcIiIsIndlYnBhY2s6Ly9vY3RvYmVyY21zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL3V0aWwvY29uZmlnLmpzIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vdXRpbC9kYXRhLmpzIiwid2VicGFjazovL29jdG9iZXJjbXMvLi9tb2R1bGVzL2JhY2tlbmQvYXNzZXRzL2ZvdW5kYXRpb24vYmFzZS1jbGFzcy5qcyIsIndlYnBhY2s6Ly9vY3RvYmVyY21zLy4vbW9kdWxlcy9iYWNrZW5kL2Fzc2V0cy9mb3VuZGF0aW9uL2NvbnRyb2xzL3NlbGVjdC9zZWxlY3QuanMiLCJ3ZWJwYWNrOi8vb2N0b2JlcmNtcy8uL21vZHVsZXMvYmFja2VuZC9hc3NldHMvZm91bmRhdGlvbi9mb3VuZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0galF1ZXJ5OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJleHBvcnQgY2xhc3MgQ29udHJvbGxlclxue1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbmRBdXRvRGlzcG9zYWwoKTtcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEF1dG9tYXRpY2FsbHkgZGlzcG9zZSBjb250cm9scyBpbiBhbiBlbGVtZW50IGJlZm9yZSB0aGUgZWxlbWVudCBjb250ZW50cyBpcyByZXBsYWNlZC5cbiAgICAvLyBUaGUgYWpheEJlZm9yZVJlcGxhY2UgZXZlbnQgaXMgdHJpZ2dlcmVkIGJ5IHRoZSBBSkFYIGZyYW1ld29yay5cbiAgICBiaW5kQXV0b0Rpc3Bvc2FsKCkge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlOmJlZm9yZS1yZW5kZXInLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgQ29udHJvbGxlci5kaXNwb3NlQ29udHJvbHMoZXYudGFyZ2V0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcignYWpheDpiZWZvcmUtcmVwbGFjZScsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgICBDb250cm9sbGVyLmRpc3Bvc2VDb250cm9scyhldi50YXJnZXQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZXN0cm95cyBhbGwgZGlzcG9zYWJsZSBjb250cm9scyBpbiBhIGNvbnRhaW5lci5cbiAgICAvLyBUaGUgZGlzcG9zYWJsZSBjb250cm9scyBzaG91bGQgd2F0Y2ggdGhlIGRpc3Bvc2UtY29udHJvbCBldmVudC5cbiAgICBzdGF0aWMgZGlzcG9zZUNvbnRyb2xzKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoY29udGFpbmVyID09PSBkb2N1bWVudCkge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWRpc3Bvc2FibGVdJykuZm9yRWFjaChmdW5jdGlvbihjb250cm9sKSB7XG4gICAgICAgICAgICBvYy5FdmVudHMuZGlzcGF0Y2goJ29jdG9iZXI6ZGlzcG9zZScsIHsgdGFyZ2V0OiBjb250cm9sIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY29udGFpbmVyLmhhc0F0dHJpYnV0ZSgnZGF0YS1kaXNwb3NhYmxlJykpIHtcbiAgICAgICAgICAgIG9jLkV2ZW50cy5kaXNwYXRjaCgnb2N0b2JlcjpkaXNwb3NlJywgeyB0YXJnZXQ6IGNvbnRhaW5lciB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImZ1bmN0aW9uIG5vcm1hbGl6ZURhdGEodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgPT09IE51bWJlcih2YWx1ZSkudG9TdHJpbmcoKSkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKVxuICAgIH1cblxuICAgIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09ICdudWxsJykge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURhdGFLZXkoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5yZXBsYWNlKC9bQS1aXS9nLCBjaHIgPT4gYC0ke2Noci50b0xvd2VyQ2FzZSgpfWApXG59XG5cbmNvbnN0IENvbmZpZyA9IHtcbiAgICBzZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYGRhdGEtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCwgdmFsdWUpO1xuICAgIH0sXG5cbiAgICByZW1vdmVEYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShgZGF0YS0ke25vcm1hbGl6ZURhdGFLZXkoa2V5KX1gKTtcbiAgICB9LFxuXG4gICAgZ2V0RGF0YUF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgZGF0YUtleXMgPSBPYmplY3Qua2V5cyhlbGVtZW50LmRhdGFzZXQpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGRhdGFLZXlzKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2tleV0gPSBub3JtYWxpemVEYXRhKGVsZW1lbnQuZGF0YXNldFtrZXldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sXG5cbiAgICBnZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplRGF0YShlbGVtZW50LmdldEF0dHJpYnV0ZShgZGF0YS0ke25vcm1hbGl6ZURhdGFLZXkoa2V5KX1gKSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZ1xuIiwiY29uc3QgZWxlbWVudE1hcCA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHNldChlbGVtZW50LCBrZXksIGluc3RhbmNlKSB7XG4gICAgICAgIGlmICghZWxlbWVudE1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIGVsZW1lbnRNYXAuc2V0KGVsZW1lbnQsIG5ldyBNYXAoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnN0YW5jZU1hcCA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIWluc3RhbmNlTWFwLmhhcyhrZXkpICYmIGluc3RhbmNlTWFwLnNpemUgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFtGb3VuZGF0aW9uXSBDYW5ub3QgYmluZCBtb3JlIHRoYW4gb25lIGluc3RhbmNlIHBlciBlbGVtZW50LiBCb3VuZCBpbnN0YW5jZTogJHtBcnJheS5mcm9tKGluc3RhbmNlTWFwLmtleXMoKSlbMF19LmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5zdGFuY2VNYXAuc2V0KGtleSwgaW5zdGFuY2UpO1xuICAgIH0sXG5cbiAgICBnZXQoZWxlbWVudCwga2V5KSB7XG4gICAgICAgIGlmIChlbGVtZW50TWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpLmdldChrZXkpIHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKGVsZW1lbnQsIGtleSkge1xuICAgICAgICBpZiAoIWVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnN0YW5jZU1hcCA9IGVsZW1lbnRNYXAuZ2V0KGVsZW1lbnQpO1xuXG4gICAgICAgIGluc3RhbmNlTWFwLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgIGlmIChpbnN0YW5jZU1hcC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICBlbGVtZW50TWFwLmRlbGV0ZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBDb25maWcgZnJvbSAnLi91dGlsL2NvbmZpZyc7XG5pbXBvcnQgRGF0YSBmcm9tICcuL3V0aWwvZGF0YSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VDbGFzc1xue1xuICAgIHN0YXRpYyBwcm94eUNvdW50ZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgICAgIGVsZW1lbnQgPSBnZXRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gdGhpcy5nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5wcm94aWVkTWV0aG9kcyA9IHt9O1xuXG4gICAgICAgIERhdGEuc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5EQVRBTkFNRSwgdGhpcyk7XG4gICAgfVxuXG4gICAgLy8gUHVibGljXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgRGF0YS5yZW1vdmUodGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFOQU1FKVxuXG4gICAgICAgIHRoaXMuZm9yZ2V0KCdvY3RvYmVyOmRpc3Bvc2UnLCB0aGlzLnByb3h5KHRoaXMuZGlzcG9zZSkpO1xuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMucHJveGllZE1ldGhvZHMpIHtcbiAgICAgICAgICAgIHRoaXMucHJveGllZE1ldGhvZHNba2V5XSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFN0YXRpY1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBEYXRhLmdldChnZXRFbGVtZW50KGVsZW1lbnQpLCB0aGlzLkRBVEFOQU1FKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0T3JDcmVhdGVJbnN0YW5jZShlbGVtZW50LCBjb25maWcgPSB7fSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZShlbGVtZW50KSB8fCBuZXcgdGhpcyhlbGVtZW50LCB0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IG51bGwpO1xuICAgIH1cblxuICAgIC8vIEV2ZW50c1xuICAgIGxpc3RlbihldmVudE5hbWUsIGhhbmRsZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBvYy5FdmVudHMub24odGhpcy5lbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5PbmNlKGV2ZW50TmFtZSwgaGFuZGxlciwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG9jLkV2ZW50cy5vbmUodGhpcy5lbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBmb3JnZXQoZXZlbnROYW1lLCBoYW5kbGVyLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gb2MuRXZlbnRzLm9mZih0aGlzLmVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKGV2ZW50TmFtZSwgYXJncyA9IHt9KSB7XG4gICAgICAgIHJldHVybiBvYy5FdmVudHMuZGlzcGF0Y2goZXZlbnROYW1lLCB7IHRhcmdldDogdGhpcy5lbGVtZW50LCAuLi5hcmdzIH0pO1xuICAgIH1cblxuICAgIC8vIFByaXZhdGVcbiAgICBtYXJrRGlzcG9zYWJsZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1kaXNwb3NhYmxlJywgJycpXG4gICAgICAgIHRoaXMubGlzdGVuKCdvY3RvYmVyOmRpc3Bvc2UnLCB0aGlzLnByb3h5KHRoaXMuZGlzcG9zZSkpO1xuICAgIH1cblxuICAgIG9uRGlzcG9zZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmxpc3Rlbignb2N0b2JlcjpkaXNwb3NlJywgdGhpcy5wcm94eShjYWxsYmFjaykpO1xuICAgIH1cblxuICAgIHByb3h5KG1ldGhvZCkge1xuICAgICAgICBpZiAobWV0aG9kLm9jUHJveHlJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCYXNlQ2xhc3MucHJveHlDb3VudGVyKys7XG4gICAgICAgICAgICBtZXRob2Qub2NQcm94eUlkID0gQmFzZUNsYXNzLnByb3h5Q291bnRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3hpZWRNZXRob2RzW21ldGhvZC5vY1Byb3h5SWRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3hpZWRNZXRob2RzW21ldGhvZC5vY1Byb3h5SWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm94aWVkTWV0aG9kc1ttZXRob2Qub2NQcm94eUlkXSA9IG1ldGhvZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnByb3hpZWRNZXRob2RzW21ldGhvZC5vY1Byb3h5SWRdO1xuICAgIH1cblxuICAgIGdldENvbmZpZyhjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMuY29uc3RydWN0b3IuREVGQVVMVFMsXG4gICAgICAgICAgICAuLi5Db25maWcuZ2V0RGF0YUF0dHJpYnV0ZXModGhpcy5lbGVtZW50KSxcbiAgICAgICAgICAgIC4uLih0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZycgJiYgb2JqZWN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2JqZWN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbn1cbiIsImltcG9ydCBCYXNlQ2xhc3MgZnJvbSAnLi4vLi4vYmFzZS1jbGFzcyc7XG5cbmNsYXNzIFNlbGVjdCBleHRlbmRzIEJhc2VDbGFzc1xue1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBjb25maWcpO1xuXG4gICAgICAgIHRoaXMuJGVsID0gJChlbGVtZW50KTtcblxuICAgICAgICAvLyBJbnRlcm5hbCBFdmVudHNcbiAgICAgICAgdGhpcy5mb3JtYXRTZWxlY3RPcHRpb24gPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICAgICAgLy8gRXNjYXBlIEhUTUxcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJCgnPHNwYW4+JykudGV4dChzdGF0ZS50ZXh0KS5odG1sKCk7XG5cbiAgICAgICAgICAgIC8vIEVsZW1lbnQgaXMgb3B0Z3JvdXBcbiAgICAgICAgICAgIGlmIChzdGF0ZS5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciAkb3B0aW9uID0gJChzdGF0ZS5lbGVtZW50KSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2xvciA9IHN0YXRlLnN0YXR1cyA/IHN0YXRlLnN0YXR1cyA6ICRvcHRpb24uZGF0YSgnc3RhdHVzJyksXG4gICAgICAgICAgICAgICAgaWNvbkNsYXNzID0gc3RhdGUuaWNvbiA/IHN0YXRlLmljb24gOiAkb3B0aW9uLmRhdGEoJ2ljb24nKSxcbiAgICAgICAgICAgICAgICBpbWFnZVNyYyA9IHN0YXRlLmltYWdlID8gc3RhdGUuaW1hZ2UgOiAkb3B0aW9uLmRhdGEoJ2ltYWdlJyk7XG5cbiAgICAgICAgICAgIGlmIChzdGF0dXNDb2xvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJzZWxlY3Qtc3RhdHVzIHN0YXR1cy1pbmRpY2F0b3JcIiBzdHlsZT1cImJhY2tncm91bmQ6JytzdGF0dXNDb2xvcisnXCI+PC9zcGFuPiAnICsgdGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGljb25DbGFzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnPGkgY2xhc3M9XCJzZWxlY3QtaWNvbiAnK2ljb25DbGFzcysnXCI+PC9pPiAnICsgdGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGltYWdlU3JjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8aW1nIGNsYXNzPVwic2VsZWN0LWltYWdlXCIgc3JjPVwiJytpbWFnZVNyYysnXCIgYWx0PVwiXCIgLz4gJyArIHRleHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXNhYmxlU2VsZWN0ID0gZnVuY3Rpb24oZXZlbnQsIHN0YXR1cykge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuZGF0YSgnc2VsZWN0MicpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnNlbGVjdDIoJ2VuYWJsZScsICFzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEJpbmQgdG8gbmF0aXZlIGFuZCBwcmV2ZW50IHJlY3Vyc2lvbiB3aXRoIGV2ZW50IG9uY2VcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLnRyaWdnZXJOYXRpdmVDaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgb2MuRXZlbnRzLmRpc3BhdGNoKCdjaGFuZ2UnLCB7IHRhcmdldDogZXZlbnQuY3VycmVudFRhcmdldCB9KTtcbiAgICAgICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkub25lKCdjaGFuZ2UnLCBzZWxmLnRyaWdnZXJOYXRpdmVDaGFuZ2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIERlc3Ryb3kgcGxhY2Vob2xkZXIgaWYgaXQgaXMgc3RpbGwgdGhlcmVcbiAgICAgICAgdGhpcy5kZXN0cm95UGxhY2Vob2xkZXIoKTtcblxuICAgICAgICAvLyBJbml0XG4gICAgICAgIHRoaXMuJGVsLm9uZSgnY2hhbmdlJywgdGhpcy5wcm94eSh0aGlzLnRyaWdnZXJOYXRpdmVDaGFuZ2UpKTtcbiAgICAgICAgdGhpcy4kZWwub24oJ2Rpc2FibGUnLCB0aGlzLnByb3h5KHRoaXMuZGlzYWJsZVNlbGVjdCkpO1xuXG4gICAgICAgIHRoaXMuYmluZEN1c3RvbVNlbGVjdCgpO1xuICAgICAgICB0aGlzLmJpbmRDdXN0b21TZWxlY3RXb3JrYXJvdW5kKCk7XG4gICAgICAgIHRoaXMubWFya0Rpc3Bvc2FibGUoKTtcbiAgICB9XG5cbiAgICBiaW5kQ3VzdG9tU2VsZWN0V29ya2Fyb3VuZCgpIHtcbiAgICAgICAgLy8gSGFjayB0byByZWludHJvZHVjZSBjb250YWluZXJDc3NDbGFzc1xuICAgICAgICB0aGlzLiRlbC5kYXRhKCdzZWxlY3QyJykuJGNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3MpO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIHNlYXJjaCBub3QgYXV0byBmb2N1c2luZyAoaHR0cHM6Ly9naXRodWIuY29tL3NlbGVjdDIvc2VsZWN0Mi9pc3N1ZXMvNTk5MylcbiAgICAgICAgdGhpcy5zZWxlY3QyT3Blbldvcmthcm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdDItY29udGFpbmVyLS1vcGVuIC5zZWxlY3QyLXNlYXJjaF9fZmllbGQnKS5mb2N1cygpO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLiRlbC5vbignc2VsZWN0MjpvcGVuJywgdGhpcy5zZWxlY3QyT3Blbldvcmthcm91bmQpO1xuICAgIH1cblxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuY2xvbmVQbGFjZWhvbGRlcigpO1xuXG4gICAgICAgIHRoaXMuJGVsLm9mZignY2hhbmdlJywgdGhpcy5wcm94eSh0aGlzLnRyaWdnZXJOYXRpdmVDaGFuZ2UpKTtcbiAgICAgICAgdGhpcy4kZWwub2ZmKCdkaXNhYmxlJywgdGhpcy5wcm94eSh0aGlzLmRpc2FibGVTZWxlY3QpKTtcblxuICAgICAgICB0aGlzLiRlbC5vZmYoJ3NlbGVjdDI6b3BlbicsIHRoaXMuc2VsZWN0Mk9wZW5Xb3JrYXJvdW5kKTtcbiAgICAgICAgdGhpcy4kZWwuc2VsZWN0MignZGVzdHJveScpO1xuXG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95UGxhY2Vob2xkZXIoKSB7XG4gICAgICAgIHZhciBhcnRlZmFjdCA9IHRoaXMuZWxlbWVudCAmJiB0aGlzLmVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBpZiAoYXJ0ZWZhY3QgJiYgYXJ0ZWZhY3QubWF0Y2hlcygnLnNlbGVjdDInKSkge1xuICAgICAgICAgICAgYXJ0ZWZhY3QucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbG9uZVBsYWNlaG9sZGVyKCkge1xuICAgICAgICB2YXIgYXJ0ZWZhY3QgPSB0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgaWYgKGFydGVmYWN0ICYmIGFydGVmYWN0Lm1hdGNoZXMoJy5zZWxlY3QyJykpIHtcbiAgICAgICAgICAgIHZhciBuZXdOb2RlID0gYXJ0ZWZhY3QuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgYXJ0ZWZhY3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgYXJ0ZWZhY3QubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgbmV3Tm9kZS5pbm5lckh0bWwgPSBhcnRlZmFjdC5pbm5lckh0bWw7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGJpbmRDdXN0b21TZWxlY3QoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zID0gdGhpcy5idWlsZFNlbGVjdE9wdGlvbnMoKTtcblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmRhdGFzZXQuaGFuZGxlcikge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMuYnVpbGRBamF4SGFuZGxlck9wdGlvbihvcHRpb25zLCB0aGlzLmVsZW1lbnQuZGF0YXNldC5oYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZGF0YXNldC50b2tlblNlcGFyYXRvcnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLmJ1aWxkVG9rZW5TZXBhcmF0b3JPcHRpb25zKG9wdGlvbnMsIHRoaXMuZWxlbWVudC5kYXRhc2V0LnRva2VuU2VwYXJhdG9ycyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRlbC5zZWxlY3QyKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGJ1aWxkVG9rZW5TZXBhcmF0b3JPcHRpb25zKHNlbGVjdE9wdGlvbnMsIHNlcGFyYXRvcnMpIHtcbiAgICAgICAgc2VsZWN0T3B0aW9ucy50YWdzID0gdHJ1ZTtcbiAgICAgICAgc2VsZWN0T3B0aW9ucy50b2tlblNlcGFyYXRvcnMgPSBzZXBhcmF0b3JzLnNwbGl0KCd8Jyk7XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgZHJvcGRvd24gaXMgaGlkZGVuLCBmb3JjZSB0aGUgZmlyc3Qgb3B0aW9uIHRvIGJlIHNlbGVjdGVkIGFsd2F5cy5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC1uby1kcm9wZG93bicpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLnNlbGVjdE9uQ2xvc2UgPSB0cnVlO1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5jbG9zZU9uU2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLm1pbmltdW1JbnB1dExlbmd0aCA9IDE7XG5cbiAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdzZWxlY3QyOmNsb3NpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGlnaGxpZ2h0ZWRFbHMgPSAkKCcuc2VsZWN0Mi1kcm9wZG93bi5zZWxlY3Qtbm8tZHJvcGRvd246Zmlyc3QgLnNlbGVjdDItcmVzdWx0c19fb3B0aW9uLS1oaWdobGlnaHRlZCcpO1xuICAgICAgICAgICAgICAgIGlmIChoaWdobGlnaHRlZEVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkRWxzLnJlbW92ZUNsYXNzKCdzZWxlY3QyLXJlc3VsdHNfX29wdGlvbi0taGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNlbGVjdDItZHJvcGRvd24uc2VsZWN0LW5vLWRyb3Bkb3duOmZpcnN0IC5zZWxlY3QyLXJlc3VsdHNfX29wdGlvbjpmaXJzdCcpLmFkZENsYXNzKCdzZWxlY3QyLXJlc3VsdHNfX29wdGlvbi0taGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RPcHRpb25zO1xuICAgIH1cblxuICAgIGJ1aWxkQWpheEhhbmRsZXJPcHRpb24oc2VsZWN0T3B0aW9ucywgaGFuZGxlcikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZWN0T3B0aW9ucy5hamF4ID0ge1xuICAgICAgICAgICAgdHJhbnNwb3J0OiBmdW5jdGlvbihwYXJhbXMsIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG9jLnJlcXVlc3Qoc2VsZi4kZWwuZ2V0KDApLCBoYW5kbGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtcy5kYXRhXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXF1ZXN0LmRvbmUoc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5mYWlsKGZhaWx1cmUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvY2Vzc1Jlc3VsdHM6IGZ1bmN0aW9uIChkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IGRhdGEucmVzdWx0IHx8IGRhdGEucmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZGVsZXRlKGRhdGEucmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdDIgZm9ybWF0XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdHNbMF0gJiYgdHlwZW9mKHJlc3VsdHNbMF0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQnVpbGQga2V5LXZhbHVlIG1hcFxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3VsdHNbaV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGEucmVzdWx0cyA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzZWxlY3RPcHRpb25zO1xuICAgIH1cblxuICAgIGJ1aWxkU2VsZWN0T3B0aW9ucygpIHtcbiAgICAgICAgdmFyIHNlbGVjdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVJlc3VsdDogdGhpcy5mb3JtYXRTZWxlY3RPcHRpb24sXG4gICAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdGlvbjogdGhpcy5mb3JtYXRTZWxlY3RPcHRpb24sXG4gICAgICAgICAgICBlc2NhcGVNYXJrdXA6IGZ1bmN0aW9uKG0pIHsgcmV0dXJuIG0gfSxcbiAgICAgICAgICAgIHdpZHRoOiAnc3R5bGUnLFxuICAgICAgICAgICAgY29udGFpbmVyQ3NzQ2xhc3M6ICcnLFxuICAgICAgICAgICAgZHJvcGRvd25Dc3NDbGFzczogJycsXG4gICAgICAgICAgICBzZWxlY3Rpb25Dc3NDbGFzczogJydcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3Qtbm8tc2VhcmNoJykpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMubWluaW11bVJlc3VsdHNGb3JTZWFyY2ggPSBJbmZpbml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3Qtbm8tZHJvcGRvd24nKSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5kcm9wZG93bkNzc0NsYXNzICs9ICcgc2VsZWN0LW5vLWRyb3Bkb3duJztcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuc2VsZWN0aW9uQ3NzQ2xhc3MgKz0gJyBzZWxlY3Qtbm8tZHJvcGRvd24nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC1oaWRlLXNlbGVjdGVkJykpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZHJvcGRvd25Dc3NDbGFzcyArPSAnIHNlbGVjdC1oaWRlLXNlbGVjdGVkJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3QtZHJvcGRvd24tYXV0by13aWR0aCcpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLmRyb3Bkb3duQXV0b1dpZHRoID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuZHJvcGRvd25Dc3NDbGFzcyArPSAnIHNlbGVjdC1kcm9wZG93bi1hdXRvLXdpZHRoJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpemluZ1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZm9ybS1jb250cm9sLXNtJykpIHtcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3MgKz0gJyBmb3JtLWNvbnRyb2wtc20nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2Zvcm0tY29udHJvbC1sZycpKSB7XG4gICAgICAgICAgICBzZWxlY3RPcHRpb25zLmNvbnRhaW5lckNzc0NsYXNzICs9ICcgZm9ybS1jb250cm9sLWxnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExhbmd1YWdlXG4gICAgICAgIHZhciBsYW5ndWFnZSA9IHRoaXMuZWxlbWVudC5kYXRhc2V0Lmxhbmd1YWdlO1xuICAgICAgICBpZiAoIWxhbmd1YWdlKSB7XG4gICAgICAgICAgICB2YXIgbWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImJhY2tlbmQtbG9jYWxlXCJdJyk7XG4gICAgICAgICAgICBpZiAobWV0YSkge1xuICAgICAgICAgICAgICAgIGxhbmd1YWdlID0gbWV0YS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYW5ndWFnZSkge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdGhpcy5lbGVtZW50LmRhdGFzZXQucGxhY2Vob2xkZXI7XG4gICAgICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgc2VsZWN0T3B0aW9ucy5hbGxvd0NsZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RPcHRpb25zO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgREFUQU5BTUUoKSB7XG4gICAgICAgIHJldHVybiAnb2NTZWxlY3QnO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgREVGQVVMVFMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbmltYXRpb246IHRydWUsXG4gICAgICAgICAgICBhdXRvaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgIGRlbGF5OiA1MDAwXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmFkZEV2ZW50TGlzdGVuZXIoJ3JlbmRlcicsIGZ1bmN0aW9uKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdC5jdXN0b20tc2VsZWN0JykuZm9yRWFjaChmdW5jdGlvbihlbCkge1xuICAgICAgICBTZWxlY3QuZ2V0T3JDcmVhdGVJbnN0YW5jZShlbCk7XG4gICAgfSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0O1xuIiwiaW1wb3J0IHsgQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbGxlcic7XG5pbXBvcnQgQmFzZUNsYXNzIGZyb20gJy4vYmFzZS1jbGFzcyc7XG5cbi8vIFNlbGYgc3RhcnRpbmcgaW5zdGFuY2VcbmNvbnN0IGluc3RhbmNlID0gbmV3IENvbnRyb2xsZXI7XG5cbmlmICh3aW5kb3cub2MpIHtcbiAgICB3aW5kb3cub2MuRm91bmRhdGlvbiA9IGluc3RhbmNlO1xuICAgIHdpbmRvdy5vYy5Gb3VuZGF0aW9uQmFzZSA9IEJhc2VDbGFzcztcbn1cblxuaW5zdGFuY2Uuc3RhcnQoKTtcblxuLypcbiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiB8IEZvdW5kYXRpb25hbCBDb21wb25lbnRzXG4gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gfFxuICovXG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgU2VsZWN0IH0gZnJvbSAnLi9jb250cm9scy9zZWxlY3Qvc2VsZWN0JztcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwialF1ZXJ5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIkNvbnRyb2xsZXIiLCJ0aGlzIiwic3RhcnRlZCIsImNvbnRhaW5lciIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjb250cm9sIiwib2MiLCJFdmVudHMiLCJkaXNwYXRjaCIsInRhcmdldCIsImhhc0F0dHJpYnV0ZSIsImJpbmRBdXRvRGlzcG9zYWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJkaXNwb3NlQ29udHJvbHMiLCJub3JtYWxpemVEYXRhIiwidmFsdWUiLCJOdW1iZXIiLCJ0b1N0cmluZyIsIkpTT04iLCJwYXJzZSIsImRlY29kZVVSSUNvbXBvbmVudCIsIm5vcm1hbGl6ZURhdGFLZXkiLCJrZXkiLCJyZXBsYWNlIiwiY2hyIiwidG9Mb3dlckNhc2UiLCJzZXREYXRhQXR0cmlidXRlIiwiZWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZURhdGFBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJnZXREYXRhQXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJPYmplY3QiLCJrZXlzIiwiZGF0YXNldCIsImdldERhdGFBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJlbGVtZW50TWFwIiwiTWFwIiwiaW5zdGFuY2UiLCJoYXMiLCJzZXQiLCJpbnN0YW5jZU1hcCIsImdldCIsInNpemUiLCJjb25zb2xlIiwiZXJyb3IiLCJBcnJheSIsImZyb20iLCJCYXNlQ2xhc3MiLCJjb25maWciLCJnZXRFbGVtZW50IiwiZ2V0Q29uZmlnIiwicHJveGllZE1ldGhvZHMiLCJEYXRhIiwiY29uc3RydWN0b3IiLCJEQVRBTkFNRSIsImZvcmdldCIsInByb3h5IiwiZGlzcG9zZSIsImdldE93blByb3BlcnR5TmFtZXMiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiY2FsbGJhY2siLCJvbiIsIm9uZSIsIm9mZiIsImFyZ3MiLCJsaXN0ZW4iLCJtZXRob2QiLCJvY1Byb3h5SWQiLCJwcm94eUNvdW50ZXIiLCJiaW5kIiwiREVGQVVMVFMiLCJDb25maWciLCJnZXRJbnN0YW5jZSIsIm9iamVjdCIsImxlbmd0aCIsInF1ZXJ5U2VsZWN0b3IiLCJTZWxlY3QiLCIkZWwiLCIkIiwiZm9ybWF0U2VsZWN0T3B0aW9uIiwic3RhdGUiLCJ0ZXh0IiwiaHRtbCIsImlkIiwiJG9wdGlvbiIsInN0YXR1c0NvbG9yIiwic3RhdHVzIiwiZGF0YSIsImljb25DbGFzcyIsImljb24iLCJpbWFnZVNyYyIsImltYWdlIiwiZGlzYWJsZVNlbGVjdCIsImV2ZW50Iiwic2VsZWN0MiIsInNlbGYiLCJ0cmlnZ2VyTmF0aXZlQ2hhbmdlIiwiY3VycmVudFRhcmdldCIsImRlc3Ryb3lQbGFjZWhvbGRlciIsImJpbmRDdXN0b21TZWxlY3QiLCJiaW5kQ3VzdG9tU2VsZWN0V29ya2Fyb3VuZCIsIm1hcmtEaXNwb3NhYmxlIiwiJGNvbnRhaW5lciIsImFkZENsYXNzIiwib3B0aW9ucyIsImNvbnRhaW5lckNzc0NsYXNzIiwic2VsZWN0Mk9wZW5Xb3JrYXJvdW5kIiwic2V0VGltZW91dCIsImZvY3VzIiwiY2xvbmVQbGFjZWhvbGRlciIsImFydGVmYWN0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibWF0Y2hlcyIsInJlbW92ZSIsIm5ld05vZGUiLCJjbG9uZU5vZGUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJpbm5lckh0bWwiLCJzdHlsZSIsImRpc3BsYXkiLCJidWlsZFNlbGVjdE9wdGlvbnMiLCJidWlsZEFqYXhIYW5kbGVyT3B0aW9uIiwidG9rZW5TZXBhcmF0b3JzIiwiYnVpbGRUb2tlblNlcGFyYXRvck9wdGlvbnMiLCJzZWxlY3RPcHRpb25zIiwic2VwYXJhdG9ycyIsInRhZ3MiLCJzcGxpdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwic2VsZWN0T25DbG9zZSIsImNsb3NlT25TZWxlY3QiLCJtaW5pbXVtSW5wdXRMZW5ndGgiLCJoaWdobGlnaHRlZEVscyIsInJlbW92ZUNsYXNzIiwiYWpheCIsInRyYW5zcG9ydCIsInBhcmFtcyIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwicmVxdWVzdCIsImRvbmUiLCJmYWlsIiwicHJvY2Vzc1Jlc3VsdHMiLCJyZXN1bHRzIiwicmVzdWx0IiwiaSIsImhhc093blByb3BlcnR5IiwicHVzaCIsImRhdGFUeXBlIiwidGVtcGxhdGVSZXN1bHQiLCJ0ZW1wbGF0ZVNlbGVjdGlvbiIsImVzY2FwZU1hcmt1cCIsIm0iLCJ3aWR0aCIsImRyb3Bkb3duQ3NzQ2xhc3MiLCJzZWxlY3Rpb25Dc3NDbGFzcyIsIm1pbmltdW1SZXN1bHRzRm9yU2VhcmNoIiwiSW5maW5pdHkiLCJkcm9wZG93bkF1dG9XaWR0aCIsImxhbmd1YWdlIiwibWV0YSIsInBsYWNlaG9sZGVyIiwiYWxsb3dDbGVhciIsImFuaW1hdGlvbiIsImF1dG9oaWRlIiwiZGVsYXkiLCJlbCIsImdldE9yQ3JlYXRlSW5zdGFuY2UiLCJ3aW5kb3ciLCJGb3VuZGF0aW9uIiwiRm91bmRhdGlvbkJhc2UiLCJzdGFydCJdLCJzb3VyY2VSb290IjoiIn0=